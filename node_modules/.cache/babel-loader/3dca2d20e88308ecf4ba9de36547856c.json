{"ast":null,"code":"import _classCallCheck from \"C:\\\\Users\\\\Daniel Roncaglia\\\\Desktop\\\\shareyourgoals\\\\share\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\Daniel Roncaglia\\\\Desktop\\\\shareyourgoals\\\\share\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\Daniel Roncaglia\\\\Desktop\\\\shareyourgoals\\\\share\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\Daniel Roncaglia\\\\Desktop\\\\shareyourgoals\\\\share\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\Daniel Roncaglia\\\\Desktop\\\\shareyourgoals\\\\share\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\Users\\\\Daniel Roncaglia\\\\Desktop\\\\shareyourgoals\\\\share\\\\src\\\\components\\\\ContentEditable\\\\index.js\";\nimport React from 'react';\nimport Editable from './Editable';\nimport './ContentEditable.css';\nimport { ProgressBar } from 'react-bootstrap';\n\nvar ContentEditable =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(ContentEditable, _React$Component);\n\n  function ContentEditable(props) {\n    var _this;\n\n    _classCallCheck(this, ContentEditable);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ContentEditable).call(this, props));\n\n    _this.handleClick = function (e) {\n      e.preventDefault();\n      var event = e || window.event; // hacks to give the contenteditable block a better UX\n\n      event.persist();\n\n      if (!_this.hasFocused) {\n        var caretRange = getMouseEventCaretRange(event);\n        window.setTimeout(function () {\n          selectRange(caretRange);\n          _this.hasFocused = true;\n        }, 0);\n      } // end hacks to give the contenteditable block a better UX\n\n\n      _this.setState({\n        disabled: false\n      });\n    };\n\n    _this.handleClickOutside = function (evt) {\n      var event = evt || window.event; // presist blur event for react\n\n      event.persist();\n      var value = evt.target.value || evt.target.innerText;\n\n      _this.setState({\n        disabled: true\n      }, function () {\n        _this.hasFocused = false; // reset single click functionality\n\n        if (_this.props.onBlur) {\n          _this.props.onBlur(evt, value);\n        }\n      });\n    };\n\n    _this.state = {\n      disabled: true\n    };\n    _this.hasFocused = false;\n    return _this;\n  }\n\n  _createClass(ContentEditable, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          onChange = _this$props.onChange,\n          children = _this$props.children,\n          html = _this$props.html,\n          editKey = _this$props.editKey,\n          tagName = _this$props.tagName;\n      var content = html || children;\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51\n        },\n        __self: this\n      }, React.createElement(Editable, {\n        tagName: tagName,\n        \"data-key\": editKey,\n        className: 'editable',\n        onClick: this.handleClick,\n        onBlur: this.handleClickOutside,\n        html: content,\n        disabled: this.state.disabled,\n        onChange: onChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52\n        },\n        __self: this\n      }), React.createElement(ProgressBar, {\n        now: 60,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return ContentEditable;\n}(React.Component);\n\nexport { ContentEditable as default };\n\nfunction getMouseEventCaretRange(event) {\n  var x = event.clientX;\n  var y = event.clientY;\n  var range;\n\n  if (document.body.createTextRange) {\n    // IE\n    range = document.body.createTextRange();\n    range.moveToPoint(x, y);\n  } else if (typeof document.createRange !== 'undefined') {\n    // Try Firefox rangeOffset + rangeParent properties\n    if (typeof event.rangeParent !== 'undefined') {\n      range = document.createRange();\n      range.setStart(event.rangeParent, event.rangeOffset);\n      range.collapse(true);\n    } else if (document.caretPositionFromPoint) {\n      // Try the standards-based way next\n      var pos = document.caretPositionFromPoint(x, y);\n      range = document.createRange();\n      range.setStart(pos.offsetNode, pos.offset);\n      range.collapse(true);\n    } else if (document.caretRangeFromPoint) {\n      // WebKit\n      range = document.caretRangeFromPoint(x, y);\n    }\n  }\n\n  return range;\n}\n\nfunction selectRange(range) {\n  if (range) {\n    if (typeof range.select !== 'undefined') {\n      range.select();\n    } else if (typeof window.getSelection !== 'undefined') {\n      var sel = window.getSelection();\n      sel.removeAllRanges();\n      sel.addRange(range);\n    }\n  }\n}","map":{"version":3,"sources":["C:\\Users\\Daniel Roncaglia\\Desktop\\shareyourgoals\\share\\src\\components\\ContentEditable\\index.js"],"names":["React","Editable","ProgressBar","ContentEditable","props","handleClick","e","preventDefault","event","window","persist","hasFocused","caretRange","getMouseEventCaretRange","setTimeout","selectRange","setState","disabled","handleClickOutside","evt","value","target","innerText","onBlur","state","onChange","children","html","editKey","tagName","content","Component","x","clientX","y","clientY","range","document","body","createTextRange","moveToPoint","createRange","rangeParent","setStart","rangeOffset","collapse","caretPositionFromPoint","pos","offsetNode","offset","caretRangeFromPoint","select","getSelection","sel","removeAllRanges","addRange"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport Editable from './Editable'\r\nimport './ContentEditable.css'\r\nimport { ProgressBar} from 'react-bootstrap'\r\n\r\nexport default class ContentEditable extends React.Component {\r\n  \r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      disabled: true\r\n    }\r\n    this.hasFocused = false\r\n  }\r\n  handleClick = (e) => {\r\n    e.preventDefault()\r\n    const event = e || window.event\r\n    // hacks to give the contenteditable block a better UX\r\n    event.persist()\r\n    if (!this.hasFocused) {\r\n      const caretRange = getMouseEventCaretRange(event)\r\n      window.setTimeout(() => {\r\n        selectRange(caretRange)\r\n        this.hasFocused = true\r\n      }, 0)\r\n    }\r\n    // end hacks to give the contenteditable block a better UX\r\n    this.setState({\r\n      disabled: false\r\n    })\r\n  }\r\n  handleClickOutside = (evt) => {\r\n    const event = evt || window.event\r\n    // presist blur event for react\r\n    event.persist()\r\n    const value = evt.target.value || evt.target.innerText\r\n    this.setState({\r\n      disabled: true\r\n    }, () => {\r\n      this.hasFocused = false // reset single click functionality\r\n      if (this.props.onBlur) {\r\n        this.props.onBlur(evt, value)\r\n      }\r\n    })\r\n  }\r\n  render() {\r\n    const { onChange, children, html, editKey, tagName } = this.props\r\n    const content = html || children\r\n    return (\r\n\r\n      <div>\r\n      <Editable\r\n        tagName={tagName}\r\n        data-key={editKey}\r\n        className={'editable'}\r\n        onClick={this.handleClick}\r\n        onBlur={this.handleClickOutside}\r\n        html={content}\r\n        disabled={this.state.disabled}\r\n        onChange={onChange}\r\n      />\r\n\r\n      <ProgressBar now={60} />\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nfunction getMouseEventCaretRange(event) {\r\n  const x = event.clientX\r\n  const y = event.clientY\r\n  let range\r\n\r\n  if (document.body.createTextRange) {\r\n    // IE\r\n    range = document.body.createTextRange()\r\n    range.moveToPoint(x, y)\r\n  } else if (typeof document.createRange !== 'undefined') {\r\n    // Try Firefox rangeOffset + rangeParent properties\r\n    if (typeof event.rangeParent !== 'undefined') {\r\n      range = document.createRange()\r\n      range.setStart(event.rangeParent, event.rangeOffset)\r\n      range.collapse(true)\r\n    } else if (document.caretPositionFromPoint) {\r\n      // Try the standards-based way next\r\n      const pos = document.caretPositionFromPoint(x, y)\r\n      range = document.createRange()\r\n      range.setStart(pos.offsetNode, pos.offset)\r\n      range.collapse(true)\r\n    } else if (document.caretRangeFromPoint) {\r\n      // WebKit\r\n      range = document.caretRangeFromPoint(x, y)\r\n    }\r\n  }\r\n  return range\r\n}\r\n\r\nfunction selectRange(range) {\r\n  if (range) {\r\n    if (typeof range.select !== 'undefined') {\r\n      range.select()\r\n    } else if (typeof window.getSelection !== 'undefined') {\r\n      const sel = window.getSelection()\r\n      sel.removeAllRanges()\r\n      sel.addRange(range)\r\n    }\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}