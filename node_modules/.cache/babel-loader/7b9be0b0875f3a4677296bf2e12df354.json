{"ast":null,"code":"import _classCallCheck from \"C:\\\\Users\\\\Daniel Roncaglia\\\\Desktop\\\\share\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\Daniel Roncaglia\\\\Desktop\\\\share\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\Daniel Roncaglia\\\\Desktop\\\\share\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\Daniel Roncaglia\\\\Desktop\\\\share\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\Daniel Roncaglia\\\\Desktop\\\\share\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\Users\\\\Daniel Roncaglia\\\\Desktop\\\\share\\\\src\\\\components\\\\ContentEditable\\\\index.js\";\nimport React from 'react';\nimport Editable from './Editable';\nimport { ProgressBar } from 'react-bootstrap';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport { FacebookShareButton, LinkedinShareButton, TwitterShareButton, FacebookShareCount, TwitterIcon } from \"react-share\";\n\nvar ContentEditable =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(ContentEditable, _React$Component);\n\n  function ContentEditable(props) {\n    var _this;\n\n    _classCallCheck(this, ContentEditable);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ContentEditable).call(this, props));\n\n    _this.handleClick = function (e) {\n      e.preventDefault();\n      var event = e || window.event;\n      event.persist(); // if (!this.hasFocused) {\n      //   const caretRange = getMouseEventCaretRange(event)\n      //   window.setTimeout(() => {\n      //     selectRange(caretRange)\n      //     this.hasFocused = true\n      //   }, 0)\n      // }\n\n      _this.setState({\n        disabled: false\n      });\n    };\n\n    _this.handleClickOutside = function (evt) {\n      var event = evt || window.event;\n      event.persist();\n      var value = evt.target.value || evt.target.innerText;\n\n      _this.setState({\n        disabled: true\n      }, function () {\n        _this.hasFocused = false;\n\n        if (_this.props.onBlur) {\n          _this.props.onBlur(evt, value);\n        }\n      });\n    };\n\n    _this.state = {\n      disabled: true\n    };\n    _this.hasFocused = false;\n    return _this;\n  }\n\n  _createClass(ContentEditable, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          onChange = _this$props.onChange,\n          children = _this$props.children,\n          html = _this$props.html,\n          editKey = _this$props.editKey,\n          tagName = _this$props.tagName;\n      var content = html || children;\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55\n        },\n        __self: this\n      }, React.createElement(Editable, {\n        tagName: tagName,\n        \"data-key\": editKey,\n        className: 'editable',\n        onClick: this.handleClick,\n        onBlur: this.handleClickOutside,\n        html: content,\n        disabled: this.state.disabled,\n        onChange: onChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56\n        },\n        __self: this\n      }), React.createElement(ProgressBar, {\n        now: 60,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }), React.createElement(TwitterIcon, {\n        size: 32,\n        round: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }, React.createElement(FacebookShareButton, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      })));\n    }\n  }]);\n\n  return ContentEditable;\n}(React.Component); // function getMouseEventCaretRange(event) {\n//   const x = event.clientX\n//   const y = event.clientY\n//   let range\n//   if (document.body.createTextRange) {\n//     range = document.body.createTextRange()\n//     range.moveToPoint(x, y)\n//   } else if (typeof document.createRange !== 'undefined') {\n//     if (typeof event.rangeParent !== 'undefined') {\n//       range = document.createRange()\n//       range.setStart(event.rangeParent, event.rangeOffset)\n//       range.collapse(true)\n//     } else if (document.caretPositionFromPoint) {\n//       const pos = document.caretPositionFromPoint(x, y)\n//       range = document.createRange()\n//       range.setStart(pos.offsetNode, pos.offset)\n//       range.collapse(true)\n//     } else if (document.caretRangeFromPoint) {\n//       range = document.caretRangeFromPoint(x, y)\n//     }\n//   }\n//   return range\n// }\n// function selectRange(range) {\n//   if (range) {\n//     if (typeof range.select !== 'undefined') {\n//       range.select()\n//     } else if (typeof window.getSelection !== 'undefined') {\n//       const sel = window.getSelection()\n//       sel.removeAllRanges()\n//       sel.addRange(range)\n//     }\n//   }\n// }\n\n\nexport { ContentEditable as default };","map":{"version":3,"sources":["C:\\Users\\Daniel Roncaglia\\Desktop\\share\\src\\components\\ContentEditable\\index.js"],"names":["React","Editable","ProgressBar","FacebookShareButton","LinkedinShareButton","TwitterShareButton","FacebookShareCount","TwitterIcon","ContentEditable","props","handleClick","e","preventDefault","event","window","persist","setState","disabled","handleClickOutside","evt","value","target","innerText","hasFocused","onBlur","state","onChange","children","html","editKey","tagName","content","Component"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport Editable from './Editable'\r\nimport { ProgressBar } from 'react-bootstrap'\r\nimport 'bootstrap/dist/css/bootstrap.min.css'\r\nimport {\r\n  FacebookShareButton,\r\n  LinkedinShareButton,\r\n  TwitterShareButton,\r\n  FacebookShareCount,\r\n  TwitterIcon\r\n} from \"react-share\";\r\n\r\nexport default class ContentEditable extends React.Component {\r\n\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      disabled: true\r\n    }\r\n    this.hasFocused = false\r\n  }\r\n  handleClick = (e) => {\r\n    e.preventDefault()\r\n    const event = e || window.event\r\n    event.persist()\r\n    // if (!this.hasFocused) {\r\n    //   const caretRange = getMouseEventCaretRange(event)\r\n    //   window.setTimeout(() => {\r\n    //     selectRange(caretRange)\r\n    //     this.hasFocused = true\r\n    //   }, 0)\r\n    // }\r\n    this.setState({\r\n      disabled: false\r\n    })\r\n  }\r\n  handleClickOutside = (evt) => {\r\n    const event = evt || window.event\r\n    event.persist()\r\n    const value = evt.target.value || evt.target.innerText\r\n    this.setState({\r\n      disabled: true\r\n    }, () => {\r\n      this.hasFocused = false\r\n      if (this.props.onBlur) {\r\n        this.props.onBlur(evt, value)\r\n      }\r\n    })\r\n  }\r\n  render() {\r\n    const { onChange, children, html, editKey, tagName } = this.props\r\n    const content = html || children\r\n    return (\r\n\r\n      <div>\r\n        <Editable\r\n          tagName={tagName}\r\n          data-key={editKey}\r\n          className={'editable'}\r\n          onClick={this.handleClick}\r\n          onBlur={this.handleClickOutside}\r\n          html={content}\r\n          disabled={this.state.disabled}\r\n          onChange={onChange}\r\n        />\r\n\r\n        <ProgressBar now={60} />\r\n\r\n\r\n        <TwitterIcon size={32} round={true}>\r\n          <FacebookShareButton />\r\n        </TwitterIcon>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\n// function getMouseEventCaretRange(event) {\r\n//   const x = event.clientX\r\n//   const y = event.clientY\r\n//   let range\r\n\r\n//   if (document.body.createTextRange) {\r\n//     range = document.body.createTextRange()\r\n//     range.moveToPoint(x, y)\r\n//   } else if (typeof document.createRange !== 'undefined') {\r\n//     if (typeof event.rangeParent !== 'undefined') {\r\n//       range = document.createRange()\r\n//       range.setStart(event.rangeParent, event.rangeOffset)\r\n//       range.collapse(true)\r\n//     } else if (document.caretPositionFromPoint) {\r\n//       const pos = document.caretPositionFromPoint(x, y)\r\n//       range = document.createRange()\r\n//       range.setStart(pos.offsetNode, pos.offset)\r\n//       range.collapse(true)\r\n//     } else if (document.caretRangeFromPoint) {\r\n//       range = document.caretRangeFromPoint(x, y)\r\n//     }\r\n//   }\r\n//   return range\r\n// }\r\n\r\n// function selectRange(range) {\r\n//   if (range) {\r\n//     if (typeof range.select !== 'undefined') {\r\n//       range.select()\r\n//     } else if (typeof window.getSelection !== 'undefined') {\r\n//       const sel = window.getSelection()\r\n//       sel.removeAllRanges()\r\n//       sel.addRange(range)\r\n//     }\r\n//   }\r\n// }\r\n"]},"metadata":{},"sourceType":"module"}